<div class="container my-4" ng-controller="SPPageCtrl">

    <div class="row mb-4">
        <div class="col-12">
            <input type="text"
                   class="form-control form-control-lg"
                   placeholder="ðŸ” TÃ¬m kiáº¿m sáº£n pháº©m theo tÃªn..."
                   ng-model="keyword">
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <div class="card p-3">
                <h6 class="fw-bold">Sáº¯p xáº¿p</h6>
                <select class="form-select" ng-model="sortType">
                    <option value="">Máº·c Ä‘á»‹nh</option>
                    <option value="new">Sáº£n pháº©m má»›i nháº¥t</option>
                    <option value="priceAsc">GiÃ¡ tÄƒng dáº§n</option>
                    <option value="priceDesc">GiÃ¡ giáº£m dáº§n</option>
                </select>
            </div>
        </div>
        <div class="col-md-9">
            <section class="new-products-section mb-5">
                <div class="container">
                    <div class="section-header text-center mb-5">
                        <h2 class="section-title fw-bold">Táº¥t cáº£ sáº£n pháº©m</h2>
                        <p class="text-muted">Nhá»¯ng sáº£n pháº©m má»›i nháº¥t tá»« OWEN</p>
                    </div>
                    <div ng-if="loadingNewProducts" class="text-center py-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                    <div ng-if="!loadingNewProducts && newProducts.length === 0" class="text-center py-5">
                        <p class="text-muted">ChÆ°a cÃ³ sáº£n pháº©m má»›i</p>
                    </div>
                    <div class="row g-4" ng-if="!loadingNewProducts && newProducts.length > 0">
                        <div class="col-md-3 col-sm-6" ng-repeat="product in newProducts">
                            <div class="product-card">
                                <div class="product-image-wrapper">
                                    <span class="badge bg-danger position-absolute top-0 start-0 m-2">Má»›i</span>
                                    <img ng-src="http://localhost:8084/uploads/{{product.hinhAnh}}"
                                         alt="{{product.tenSanPham}}"
                                         class="product-image">
                                    <div class="product-overlay">
                                        <button class="btn btn-light btn-sm"
                                                ng-click="viewProduct(product.idSanPham)">
                                            <i class="fas fa-eye"></i> Xem chi tiáº¿t
                                        </button>

                                    </div>
                                </div>
                                <div class="product-info">
                                    <h6 class="product-name">{{product.tenSanPham}}</h6>
                                    <div class="product-meta mb-2">
                                    <span class="badge bg-secondary me-1"
                                          ng-if="product.tenSize">{{product.tenSize}}</span>
                                        <span class="badge bg-secondary"
                                              ng-if="product.tenMau">{{product.tenMau}}</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="price">{{product.gia | number}} Ä‘</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
